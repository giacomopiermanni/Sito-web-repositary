<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Archivio fotografico â€” Giacomo Piermanni</title>
  <style>
    :root{ --fg:#111; --line:#eee; }
    html,body{margin:0;background:#fff;color:var(--fg);font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
    header{
      position:sticky; top:0; background:#fff; border-bottom:1px solid var(--line);
      display:flex; justify-content:space-between; align-items:center; padding:14px 16px; font-size:14px;
    }
    header a{ color:inherit; text-decoration:none; }
    header a:hover{ text-decoration:underline; }

    .grid{
      max-width:1400px; margin:20px auto; padding:0 14px;
      display:grid; grid-template-columns:repeat(auto-fill,minmax(160px,1fr)); gap:10px;
    }
    .grid img{
      width:100%; height:150px; object-fit:cover;
      border-radius:6px; cursor:zoom-in; background:#f4f4f4;
      transition:transform .15s ease;
    }
    .grid img:hover{ transform:scale(1.03); }

    /* Lightbox */
    .lb{ position:fixed; inset:0; background:rgba(0,0,0,.95); display:none; align-items:center; justify-content:center; z-index:9999; }
    .lb.open{ display:flex; }
    .lb img{ max-width:96vw; max-height:94vh; border-radius:8px; }
    .nav{ position:absolute; top:50%; transform:translateY(-50%); font-size:44px; color:#fff; cursor:pointer; user-select:none; padding:16px; background:rgba(0,0,0,.3); border-radius:6px; }
    .prev{ left:16px; } .next{ right:16px; }
  </style>
</head>
<body>
  <header>
    <div>Archivio fotografico</div>
    <div><a href="mailto:giacomopiermanni@gmail.com">giacomopiermanni@gmail.com</a></div>
  </header>

  <main class="grid" id="grid"></main>

  <!-- Lightbox -->
  <div class="lb" id="lb">
    <span class="nav prev" id="prev">&#10094;</span>
    <img id="lbImg" alt="">
    <span class="nav next" id="next">&#10095;</span>
  </div>

  <script>
    // TUTTI i file dentro la cartella img/ (come da tuoi screenshot)
    const FILES = [
      "Aosta-1.jpg","Aosta-2.jpg","Aosta-3.jpg","Aosta-4.jpg","Aosta-5.jpg","Aosta-6.jpg","Aosta-7.jpg","Aosta-8.jpg","Aosta-9.jpg","Aosta-10.jpg","Aosta-11.jpg","Aosta-12.jpg","Aosta-13.jpg","Aosta-14.jpg",
      "Castelluccio 01-1.jpg","Castelluccio 01-3.jpg","Castelluccio 01-4.jpg","Castelluccio 01-5.jpg","Castelluccio 01-6.jpg","Castelluccio 01-7.jpg","Castelluccio 01-9.jpg","Castelluccio 01-10.jpg","Castelluccio 01-11.jpg","Castelluccio 01-12.jpg","Castelluccio 01-13.jpg","Castelluccio 01-14.jpg","Castelluccio 01-15.jpg",
      "Castelluccio 03-1.jpg","Castelluccio 03-2.jpg","Castelluccio 03-3.jpg","Castelluccio 03-4.jpg","Castelluccio 03-5.jpg","Castelluccio 03-6.jpg","Castelluccio 03-7.jpg","Castelluccio 03-8.jpg","Castelluccio 03-9.jpg",
      "Celle-2.jpg",
      "Croazia-1.jpg","Croazia-2.jpg","Croazia-3.jpg",
      "Davide-1.jpg","Davide-2.jpg","Davide-3.jpg","Davide-4.jpg",
      "Elena 01-1.jpg","Elena 01-2.jpg","Elena 01-3.jpg","Elena 01-4.jpg","Elena 01-5.jpg",
      "Elena 02-1.jpg","Elena 02-2.jpg","Elena 02-4.jpg",
      "Gabriele-1.jpg","Gabriele-2.jpg",
      "Matteo-1.jpg",
      "Milano 01-1.jpg","Milano 01-2.jpg","Milano 01-3.jpg","Milano 01-4.jpg","Milano 01-5.jpg",
      "Praga-1.jpg","Praga-2.jpg",
      "Sardegna-1.jpg","Sardegna-2.jpg","Sardegna-3.jpg","Sardegna-4.jpg","Sardegna-5.jpg","Sardegna-6.jpg","Sardegna-7.jpg","Sardegna-8.jpg","Sardegna-9.jpg","Sardegna-10.jpg","Sardegna-11.jpg","Sardegna-12.jpg","Sardegna-13.jpg","Sardegna-14.jpg","Sardegna-15.jpg","Sardegna-16.jpg",
      "Sibilla-1.jpg","Sibilla-2.jpg","Sibilla-3.jpg","Sibilla-4.jpg","Sibilla-5.jpg","Sibilla-6.jpg",
      "Torino 01-1.jpg","Torino 01-2.jpg","Torino 01-3.jpg","Torino 01-4.jpg","Torino 01-5.jpg","Torino 01-6.jpg","Torino 01-7.jpg","Torino 01-8.jpg",
      "Torino 02-1.jpg","Torino 02-2.jpg","Torino 02-3.jpg","Torino 02-4.jpg","Torino 02-5.jpg","Torino 02-6.jpg","Torino 02-7.jpg","Torino 02-8.jpg","Torino 02-9.jpg","Torino 02-10.jpg","Torino 02-11.jpg","Torino 02-12.jpg",
      "Torino 03-1.jpg","Torino 03-2.jpg","Torino 03-3.jpg","Torino 03-4.jpg","Torino 03-5.jpg","Torino 03-6.jpg","Torino 03-7.jpg","Torino 03-8.jpg"
    ];

    const grid = document.getElementById('grid');
    const lb = document.getElementById('lb');
    const lbImg = document.getElementById('lbImg');
    const nextBtn = document.getElementById('next');
    const prevBtn = document.getElementById('prev');
    let currentIndex = -1;

    // Costruisce le miniature (lazy)
    FILES.forEach((name, index) => {
      const img = new Image();
      img.loading = 'lazy';
      img.src = `img/${name}`;
      img.alt = name;
      img.onclick = () => openLB(index);
      grid.appendChild(img);
    });

    function openLB(i){ currentIndex=i; lbImg.src=`img/${FILES[i]}`; lb.classList.add('open'); }
    function closeLB(){ lb.classList.remove('open'); }
    function next(){ currentIndex=(currentIndex+1)%FILES.length; lbImg.src=`img/${FILES[currentIndex]}`; }
    function prev(){ currentIndex=(currentIndex-1+FILES.length)%FILES.length; lbImg.src=`img/${FILES[currentIndex]}`; }

    nextBtn.onclick = next;
    prevBtn.onclick = prev;
    lb.addEventListener('click', e => { if(e.target===lb) closeLB(); });
    document.addEventListener('keydown', e => {
      if(!lb.classList.contains('open')) return;
      if(e.key==='Escape') closeLB();
      if(e.key==='ArrowRight') next();
      if(e.key==='ArrowLeft') prev();
    });
  </script>
</body>
</html>